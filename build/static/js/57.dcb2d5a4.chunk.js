(this["webpackJsonpadmin-template"]=this["webpackJsonpadmin-template"]||[]).push([[57],{611:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return s}));n(6);var a=n(22),r=n.n(a),l=n(23),c=function(e){return{query:'mutation {\n    createFleetType(input: {\n      name: "'.concat(e,'"\n    }) {\n      ...on IFleetTypeSimple {\n        _id\n        name\n        createdAt\n        updatedAt\n      }\n    }\n  }')}},i=function(e){return{query:'mutation {\n    removeFleetTypeByID(_id: "'.concat(e,'") {\n      ...on IFleetTypeSimple {\n        _id\n        name\n        createdAt\n        updatedAt\n      }\n    }\n  }')}},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return null};r.a.post(l.a.baseURL,{query:"{\n    fetchFleetTypes {\n      _id\n      name\n      createdAt\n      updatedAt\n    }\n  }"}).then((function(e){t(null,e.data.data.fetchFleetTypes)})).catch((function(e){console.log("Error",e),t(e,null)}))},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return null};r.a.post(l.a.baseURL,c(e)).then((function(e){t(null,e.data.data.createFleetType)})).catch((function(e){console.log("Error",e),t(e,null)}))},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return null};r.a.post(l.a.baseURL,i(e)).then((function(e){t(null,e.data.data.removeFleetTypeByID)})).catch((function(e){console.log("Error",e),t(e,null)}))}},612:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return s}));n(6);var a=n(22),r=n.n(a),l=n(23),c=function(e){return{query:'mutation {\n    createFleetModel(input: {\n      name: "'.concat(e.name,'",\n      fleet_brand: "').concat(e.fleet_brand,'"\n      available_types: [').concat(e.available_types.map((function(e){return'"'.concat(e,'"')})),"]\n    }) {\n      ...on IFleetModelSimple {\n        _id\n        name\n        fleet_brand\n        available_types\n      }\n    }\n  }")}},i=function(e){return{query:'mutation {\n    removeFleetModelByID(_id: "'.concat(e,'") {\n      ...on IFleetModelSimple {\n        _id\n        name\n        fleet_brand\n        available_types\n      }\n    }\n  }')}},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return null};r.a.post(l.a.baseURL,{query:"{\n    fetchFleetModels {\n      _id\n      name\n      fleet_brand\n      available_types\n      createdAt\n      updatedAt\n    }\n  }"}).then((function(e){t(null,e.data.data.fetchFleetModels)})).catch((function(e){console.log("Error",e),t(e,null)}))},d=function(e){var t=e.available_types,n=e.fleet_brand,a=e.name,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return null};r.a.post(l.a.baseURL,c({available_types:t,fleet_brand:n,name:a})).then((function(e){i(null,e.data.data.createFleetModel)})).catch((function(e){console.log("Error",e),i(e,null)}))},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return null};r.a.post(l.a.baseURL,i(e)).then((function(e){t(null,e.data.data.removeFleetModelByID)})).catch((function(e){console.log("Error",e),t(e,null)}))}},613:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return s}));n(6);var a=n(22),r=n.n(a),l=n(23),c=function(e){return{query:'mutation {\n      createFleetBrand(input: {\n          name: "'.concat(e,'"\n      }) {\n      ...on IFleetBrandSimple {\n        _id\n        name\n        createdAt\n        updatedAt\n      }\n    }\n  }')}},i=function(e){return{query:'mutation {\n    removeFleetBrandByID(_id: "'.concat(e,'") {\n      ...on IFleetBrandSimple {\n        _id\n        name\n        createdAt\n        updatedAt\n      }\n    }\n  }')}},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return null};r.a.post(l.a.baseURL,{query:"{\n    fetchFleetBrands {\n      _id\n      name\n      createdAt\n      updatedAt\n    }\n  }"}).then((function(e){t(null,e.data.data.fetchFleetBrands)})).catch((function(e){console.log("Error",e),t(e,null)}))},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return null};r.a.post(l.a.baseURL,c(e)).then((function(e){t(null,e.data.data.createFleetBrand)})).catch((function(e){console.log("Error",e),t(e,null)}))},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return null};r.a.post(l.a.baseURL,i(e)).then((function(e){t(null,e.data.data.removeFleetBrandByID)})).catch((function(e){console.log("Error",e),t(e,null)}))}},795:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return oe}));var a=n(17),r=n(6),l=n(5),c=n(0),i=n(9),o=n(604),d=n(812),s=n(813),u=n(786),b=(n(651),n(652)),h=n.n(b),m=n(653),j=n.n(m),p=n(654),f=n.n(p),x=n(748),v=n(650),_=n(557),O=n(568),g=n(549),y=n(516),k=n(517),C=n(537),I=n(515),T=n(532),w=n(577),W=n(524),F=n(565),B=n(560),A=n.n(B),S=n(1),D=Object(i.a)(O.a)((function(e){var t=e.theme;return"\n\n    margin-top: 20px;\n    position: relative;\n    overflow: visible;\n    display: inline-block;\n    margin-top: -".concat(t.spacing(9),";\n    margin-left: ").concat(t.spacing(2),";\n\n    .MuiAvatar-root {\n      width: ").concat(t.spacing(16),";\n      height: ").concat(t.spacing(16),";\n    }\n")})),z=Object(i.a)(y.a)((function(e){var t=e.theme;return"\n    position: absolute;\n    width: ".concat(t.spacing(4),";\n    height: ").concat(t.spacing(4),";\n    bottom: -").concat(t.spacing(1),";\n    right: -").concat(t.spacing(1),";\n\n    .MuiIconButton-root {\n      border-radius: 100%;\n      background: ").concat(t.colors.primary.main,";\n      color: ").concat(t.palette.primary.contrastText,";\n      box-shadow: ").concat(t.colors.shadows.primary,";\n      width: ").concat(t.spacing(4),";\n      height: ").concat(t.spacing(4),";\n      padding: 0;\n  \n      &:hover {\n        background: ").concat(t.colors.primary.dark,";\n      }\n    }\n")})),E=Object(i.a)("input")({display:"none"}),M=function(e){var t=e.handleChange,n=e.formData,a=e.handleProfilePicture,r=e.errorData,l=e.errors,c=function(e){if(Object.keys(r).length>0){var t=Object.keys(r),n=Object.values(r),a=t.findIndex((function(t){return t===e}));return a>=0?{error:!0,value:n[a].replace("_"," ")}:{error:!1,value:""}}var c=l.findIndex((function(t){return t.name===e}));return c>=0?l[c]:{}};return Object(S.jsxs)("div",{style:{paddingTop:50},children:[Object(S.jsxs)(D,{children:[Object(S.jsx)(I.a,{variant:"rounded",alt:"user.name",src:n.profile_picture?n.profile_picture:"https://thispersondoesnotexist.com/image"}),Object(S.jsxs)(z,{children:[Object(S.jsx)(E,{id:"icon-button-file",name:"icon-button-file",type:"file",onChange:a}),Object(S.jsx)("label",{htmlFor:"icon-button-file",children:Object(S.jsx)(T.a,{component:"span",color:"primary",children:Object(S.jsx)(A.a,{})})})]})]}),Object(S.jsxs)(w.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:[Object(S.jsx)(w.a,{item:!0,md:4,xs:12,children:Object(S.jsx)(y.a,{sx:{maxWidth:"80%",mt:4},children:Object(S.jsx)(W.a,{type:"text",label:"First Name",variant:"outlined",fullWidth:!0,size:"small",name:"first_name",onChange:t,value:n.first_name,error:c("first_name").value,helperText:c("first_name").value})})}),Object(S.jsx)(w.a,{item:!0,md:4,xs:12,children:Object(S.jsx)(y.a,{sx:{maxWidth:"80%",mt:4},children:Object(S.jsx)(W.a,{type:"text",label:"Middle Name",variant:"outlined",fullWidth:!0,size:"small",onChange:t,name:"middle_name",value:n.middle_name,error:c("middle_name").value,helperText:c("middle_name").value})})}),Object(S.jsx)(w.a,{item:!0,md:4,xs:12,children:Object(S.jsx)(y.a,{sx:{maxWidth:"80%",mt:4},children:Object(S.jsx)(W.a,{type:"text",label:"Last Name",variant:"outlined",fullWidth:!0,size:"small",onChange:t,name:"last_name",value:n.last_name,error:c("last_name").value,helperText:c("last_name").value})})})]}),Object(S.jsxs)(w.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:[Object(S.jsx)(w.a,{item:!0,md:4,xs:12,children:Object(S.jsx)(y.a,{sx:{maxWidth:"80%",mt:4},children:Object(S.jsx)(W.a,{type:"email",label:"Email",variant:"outlined",fullWidth:!0,size:"small",name:"email",onChange:t,value:n.email,error:c("email").value,helperText:c("email").value})})}),Object(S.jsx)(w.a,{item:!0,md:4,xs:12,children:Object(S.jsx)(y.a,{sx:{maxWidth:"80%",mt:4},children:Object(S.jsx)(W.a,{select:!0,label:"Driver Sex",variant:"outlined",fullWidth:!0,size:"small",name:"gender",onChange:t,value:n.gender,error:c("gender").value,helperText:c("gender").value,children:["MALE","FEMALE"].map((function(e){return Object(S.jsx)(F.a,{value:e,children:e},e)}))})})}),Object(S.jsx)(w.a,{item:!0,md:4,xs:12,children:Object(S.jsx)(y.a,{sx:{maxWidth:"80%",mt:4},children:Object(S.jsx)(W.a,{type:"date",label:"Driver Date of Birth",variant:"outlined",fullWidth:!0,size:"small",name:"birth_date",onChange:t,value:n.birth_date,error:c("birth_date").value,helperText:c("birth_date").value})})})]}),Object(S.jsxs)(w.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:[Object(S.jsx)(w.a,{item:!0,md:6,xs:12,children:Object(S.jsx)(y.a,{sx:{maxWidth:"80%",mt:4},children:Object(S.jsx)(W.a,{type:"email",label:"License Number",variant:"outlined",fullWidth:!0,size:"small",onChange:t,name:"license_number",value:n.license_number,error:c("license_number").value,helperText:c("license_number").value})})}),Object(S.jsx)(w.a,{item:!0,md:6,xs:12,children:Object(S.jsx)(y.a,{sx:{maxWidth:"80%",mt:4},children:Object(S.jsx)(W.a,{type:"email",label:"Phone Number",variant:"outlined",fullWidth:!0,size:"small",onChange:t,name:"phone_number",value:n.phone_number,error:c("phone_number").value,helperText:c("phone_number").value})})})]}),Object(S.jsxs)(w.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:[Object(S.jsx)(w.a,{item:!0,md:4,xs:12,children:Object(S.jsx)(y.a,{sx:{maxWidth:"80%",mt:4},children:Object(S.jsx)(W.a,{label:"City",variant:"outlined",fullWidth:!0,size:"small",onChange:t,name:"city",value:n.city,error:c("city").value,helperText:c("city").value})})}),Object(S.jsx)(w.a,{item:!0,md:4,xs:12,children:Object(S.jsx)(y.a,{sx:{maxWidth:"80%",mt:4},children:Object(S.jsx)(W.a,{label:"Sub-City",variant:"outlined",fullWidth:!0,size:"small",onChange:t,name:"sub_city",value:n.sub_city,error:c("sub_city").value,helperText:c("sub_city").value})})}),Object(S.jsx)(w.a,{item:!0,md:4,xs:12,children:Object(S.jsx)(y.a,{sx:{maxWidth:"80%",mt:4},children:Object(S.jsx)(W.a,{label:"Kebele",variant:"outlined",fullWidth:!0,size:"small",onChange:t,name:"kebele",value:n.kebele,error:c("kebele").value,helperText:c("kebele").value})})})]})]})},R=n(564),L=n.n(R),P=n(649),N=n.n(P),q=Object(i.a)(O.a)((function(e){var t=e.theme;return"\n\n    margin-top: 20px;\n    position: relative;\n    overflow: visible;\n    display: inline-block;\n    margin-top: -".concat(t.spacing(9),";\n    margin-left: ").concat(t.spacing(2),";\n\n    .MuiAvatar-root {\n      width: ").concat(t.spacing(16),";\n      height: ").concat(t.spacing(16),";\n    }\n")})),U=Object(i.a)(y.a)((function(e){var t=e.theme;return"\n    position: absolute;\n    width: ".concat(t.spacing(4),";\n    height: ").concat(t.spacing(4),";\n    bottom: -").concat(t.spacing(1),";\n    right: -").concat(t.spacing(1),";\n\n    .MuiIconButton-root {\n      border-radius: 100%;\n      background: ").concat(t.colors.primary.main,";\n      color: ").concat(t.palette.primary.contrastText,";\n      box-shadow: ").concat(t.colors.shadows.primary,";\n      width: ").concat(t.spacing(4),";\n      height: ").concat(t.spacing(4),";\n      padding: 0;\n      margin-top: -110px;\n\n  \n      &:hover {\n        background: ").concat(t.colors.primary.dark,";\n      }\n    }\n")})),V=Object(i.a)("input")({display:"none"}),K=function(e){var t=e.handleChange,n=e.formData,a=(e.errors,e.handleVehiclePictures),r=e.addVehiclePicture,l=e.removeVehiclePicture,c=e.fleet_types,i=e.fleet_models,o=e.fleet_brands,d=e.errorData,s=function(e){var t=Object.keys(d),n=Object.values(d),a=t.findIndex((function(t){return t===e}));return a>=0?{error:!0,value:n[a].replace("_"," ")}:{error:!1,value:""}};return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(w.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:[Object(S.jsx)(w.a,{item:!0,md:4,xs:12,children:Object(S.jsx)(y.a,{sx:{maxWidth:"80%",mt:4},children:Object(S.jsx)(W.a,{select:!0,type:"text",label:"Fleet Brand",variant:"outlined",fullWidth:!0,size:"small",name:"fleet_brand",onChange:t,value:n.fleet_brand,error:Boolean(s("fleet_brand").value),helperText:s("fleet_brand").value,children:o.map((function(e){return Object(S.jsx)(F.a,{value:e._id,children:e.name})}))})})}),Object(S.jsx)(w.a,{item:!0,md:4,xs:12,children:Object(S.jsx)(y.a,{sx:{maxWidth:"80%",mt:4},children:Object(S.jsx)(W.a,{type:"text",select:!0,label:"Fleet Model",variant:"outlined",fullWidth:!0,size:"small",name:"fleet_model",onChange:t,value:n.fleet_model,error:Boolean(s("fleet_model").value),helperText:s("fleet_model").value,children:i.map((function(e){return Object(S.jsx)(F.a,{value:e._id,children:e.name})}))})})}),Object(S.jsx)(w.a,{item:!0,md:4,xs:12,children:Object(S.jsxs)(y.a,{sx:{maxWidth:"80%",mt:4},children:["Is Truck Available?",Object(S.jsx)("input",{type:"checkbox",name:"truck_available",checked:n.truck_available,onChange:t}),s("fleet_model").error&&Object(S.jsx)("label",{style:{color:"red"},children:s("fleet_model").value})]})})]}),Object(S.jsxs)(w.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:[Object(S.jsx)(w.a,{item:!0,md:4,xs:12,children:Object(S.jsx)(y.a,{sx:{maxWidth:"80%",mt:4},children:Object(S.jsx)(W.a,{type:"text",label:"Fleet Body Color",variant:"outlined",fullWidth:!0,size:"small",name:"fleet_body_color",onChange:t,value:n.fleet_body_color,error:Boolean(s("fleet_body_color").value),helperText:s("fleet_body_color").value})})}),Object(S.jsx)(w.a,{item:!0,md:4,xs:12,children:Object(S.jsx)(y.a,{sx:{maxWidth:"80%",mt:4},children:Object(S.jsx)(W.a,{select:!0,label:"Fleet Type",variant:"outlined",fullWidth:!0,size:"small",name:"fleet_type",onChange:t,value:n.fleet_type,error:Boolean(s("fleet_type").value),helperText:s("fleet_type").value,children:c.map((function(e){return Object(S.jsx)(F.a,{value:e._id,children:e.name},e._id)}))})})}),Object(S.jsx)(w.a,{item:!0,md:4,xs:12,children:Object(S.jsx)(y.a,{sx:{maxWidth:"80%",mt:4},children:Object(S.jsx)(W.a,{label:"Fleet Plate Number",variant:"outlined",fullWidth:!0,size:"small",name:"fleet_plate_number",onChange:t,value:n.fleet_plate_number,error:Boolean(s("fleet_plate_number").value),helperText:s("fleet_plate_number").value})})})]}),Object(S.jsxs)("div",{style:{display:"flex",flexDirection:"row",marginTop:140},children:[Object(S.jsx)("h4",{style:{marginTop:-20},children:"Vehicle Photo"}),n.vehicle_photos.map((function(e){return Object(S.jsxs)(q,{children:[Object(S.jsx)(I.a,{variant:"rounded",alt:"user.name",src:e.value}),Object(S.jsxs)(U,{children:[Object(S.jsx)(V,{id:"".concat(e.idx,"-icon-button-file"),name:"".concat(e.idx,"-icon-button-file"),type:"file",onChange:function(t){console.log("fetched"),a(t,e.idx)}}),Object(S.jsx)(T.a,{component:"span",color:"error",style:{marginBottom:150,backgroundColor:"red"},onClick:function(){return l(e.idx)},children:Object(S.jsx)(N.a,{})}),Object(S.jsx)("label",{htmlFor:"".concat(e.idx,"-icon-button-file"),children:Object(S.jsx)(T.a,{component:"span",color:"primary",children:Object(S.jsx)(A.a,{})})})]})]})})),Object(S.jsx)(k.a,{"aria-label":"increase",onClick:function(){r()},children:Object(S.jsx)(L.a,{fontSize:"small"})})]})]})},H=function(e){var t=e.handleChange,n=e.formData,a=e.errorData,r=function(e){var t=Object.keys(a),n=Object.values(a),r=t.findIndex((function(t){return t===e}));return r>=0?{error:!0,value:n[r].replace("_"," ")}:{error:!1,value:""}};return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(w.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:[Object(S.jsx)(w.a,{item:!0,md:3,xs:12,children:Object(S.jsx)(y.a,{sx:{maxWidth:"80%",mt:4},children:Object(S.jsx)(W.a,{select:!0,label:"Bank",variant:"outlined",fullWidth:!0,size:"small",name:"bank",onChange:t,value:n.bank,error:Boolean(r("bank").value),helperText:r("bank").value,children:["AWASH_INTERNATIONAL_BANK","COMMERCIAL_BANK_OF_ETHIOPIA"].map((function(e){return Object(S.jsx)(F.a,{value:e,children:e},e)}))})})}),Object(S.jsx)(w.a,{item:!0,md:3,xs:12,children:Object(S.jsx)(y.a,{sx:{maxWidth:"80%",mt:4},children:Object(S.jsx)(W.a,{type:"text",label:"Bank Account",variant:"outlined",fullWidth:!0,size:"small",name:"bank_account",onChange:t,value:n.bank_account,error:Boolean(r("bank_account").value),helperText:r("bank_account").value})})}),Object(S.jsx)(w.a,{item:!0,md:3,xs:12,children:Object(S.jsx)(y.a,{sx:{maxWidth:"80%",mt:4},children:Object(S.jsx)(W.a,{type:"text",label:"Wallet Amount",variant:"outlined",fullWidth:!0,size:"small",name:"wallet_amount",onChange:t,value:n.wallet_amount,error:Boolean(r("wallet_amount").value),helperText:r("wallet_amount").value})})}),Object(S.jsx)(w.a,{item:!0,md:3,xs:12,children:Object(S.jsx)(y.a,{sx:{maxWidth:"80%",mt:4},children:Object(S.jsx)(W.a,{type:"text",label:"Tele Birr ID",variant:"outlined",fullWidth:!0,size:"small",name:"telebirr_id",onChange:t,value:n.telebirr_id,error:Boolean(r("telebirr_id").value),helperText:r("telebirr_id").value})})})]})})},J=n(22),Q=n.n(J),G=n(602),X=n.n(G),Y=n(147),Z=n(611),$=n(612),ee=n(613),te=n(20),ne=n(21),ae=function(){return Math.random().toString()};Object(i.a)(x.a)((function(e){var t,n=e.theme;return t={},Object(l.a)(t,"&.".concat(v.a.alternativeLabel),{top:10,left:"calc(-50% + 16px)",right:"calc(50% + 16px)"}),Object(l.a)(t,"&.".concat(v.a.active),Object(l.a)({},"& .".concat(v.a.line),{borderColor:"#784af4"})),Object(l.a)(t,"&.".concat(v.a.completed),Object(l.a)({},"& .".concat(v.a.line),{borderColor:"#784af4"})),Object(l.a)(t,"& .".concat(v.a.line),{borderColor:"dark"===n.palette.mode?n.palette.grey[800]:"#eaeaf0",borderTopWidth:3,borderRadius:1}),t})),Object(i.a)("div")((function(e){var t=e.theme,n=e.ownerState;return Object(r.a)(Object(r.a)({color:"dark"===t.palette.mode?t.palette.grey[700]:"#eaeaf0",display:"flex",height:22,alignItems:"center"},n.active&&{color:"#784af4"}),{},{"& .QontoStepIcon-completedIcon":{color:"#784af4",zIndex:1,fontSize:18},"& .QontoStepIcon-circle":{width:8,height:8,borderRadius:"50%",backgroundColor:"currentColor"}})}));var re=Object(i.a)(x.a)((function(e){var t,n=e.theme;return t={},Object(l.a)(t,"&.".concat(v.a.alternativeLabel),{top:22}),Object(l.a)(t,"&.".concat(v.a.active),Object(l.a)({},"& .".concat(v.a.line),{backgroundImage:"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)"})),Object(l.a)(t,"&.".concat(v.a.completed),Object(l.a)({},"& .".concat(v.a.line),{backgroundImage:"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)"})),Object(l.a)(t,"& .".concat(v.a.line),{height:3,border:0,backgroundColor:"dark"===n.palette.mode?n.palette.grey[800]:"#eaeaf0",borderRadius:1}),t})),le=Object(i.a)("div")((function(e){var t=e.theme,n=e.ownerState;return Object(r.a)(Object(r.a)({backgroundColor:"dark"===t.palette.mode?t.palette.grey[700]:"#ccc",zIndex:1,color:"#fff",width:50,height:50,display:"flex",borderRadius:"50%",justifyContent:"center",alignItems:"center"},n.active&&{backgroundImage:"linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)",boxShadow:"0 4px 10px 0 rgba(0,0,0,.25)"}),n.completed&&{backgroundImage:"linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)"})}));function ce(e){var t=e.active,n=e.completed,a=e.className,r={1:Object(S.jsx)(h.a,{}),2:Object(S.jsx)(j.a,{}),3:Object(S.jsx)(f.a,{})};return Object(S.jsx)(le,{ownerState:{completed:n,active:t},className:a,children:r[String(e.icon)]})}var ie=["Driver Information","Fleet Information","Wallet"];function oe(){var e,t=c.useState([]),n=Object(a.a)(t,2),i=n[0],b=n[1],h=c.useState([]),m=Object(a.a)(h,2),j=m[0],p=m[1],f=c.useState([]),x=Object(a.a)(f,2),v=x[0],I=x[1],T=Object(ne.h)(),w=(e={0:{first_name:!0,middle_name:!1,last_name:!0,phone_number:!0,email:!0,kebele:!0,city:!0,sub_city:!0,gender:!0,birth_date:!0,license_number:!0,profile_picture:!1,profile_picture_data:!1}},Object(l.a)(e,1,{truck_available:!1,fleet_brand:!0,fleet_model:!0,fleet_body_color:!0,fleet_type:!0,fleet_plate_number:!0,vehicle_photos:!1,vehicle_photos_data:!1}),Object(l.a)(e,2,{bank:!0,bank_account:!0,telebirr_id:!0,wallet_amount:!0}),e),W=c.useState([]),F=Object(a.a)(W,2),B=F[0],A=F[1],D=c.useState(0),z=Object(a.a)(D,2),E=z[0],R=z[1],L=c.useState(!1),P=Object(a.a)(L,2),N=P[0],q=P[1],U=ae(),V=c.useState({vehicle_photos_data:[{idx:U,value:""}],vehicle_photos:[{idx:U,value:"https://thispersondoesnotexist.com/image"}],profile_picture:"",profile_picture_data:{}}),J=Object(a.a)(V,2),G=J[0],le=J[1],oe=c.useState({}),de=Object(a.a)(oe,2),se=de[0],ue=de[1],be=function(e){var t=e.target.name,n=e.target.value;le("truck_available"===t?Object(r.a)(Object(r.a)({},G),{},Object(l.a)({},t,e.target.checked)):Object(r.a)(Object(r.a)({},G),{},Object(l.a)({},t,n))),n.length>0?A(B.filter((function(e){return e.name!==t}))):w[E][t]&&A(B.concat({name:t,value:"".concat(t," is required")}))};c.useEffect((function(){Object(Z.b)({},(function(e,t){if(e)throw e;b(t)})),Object($.b)({},(function(e,t){if(e)throw e;p(t)})),Object(ee.b)({},(function(e,t){if(e)throw e;I(t)}))}),[]);var he=function(){var e=new X.a;e.append("profile_picture",G.profile_picture_data);var t={Accept:"*/*"},n={url:"http://localhost:3009/upload",method:"POST",headers:t,data:e};Q.a.request(n).then((function(e){if(e.data.uri[0]){le(Object(r.a)(Object(r.a)({},G),{},{profile_picture:e.data.uri[0]}));var a=new X.a;G.vehicle_photos_data.forEach((function(e,t){return a.append("".concat(t),e.value)})),n={url:"http://localhost:3009/upload",method:"POST",headers:t,data:a},Q.a.request(n).then((function(t){t.data.uri&&(le(Object(r.a)(Object(r.a)({},G),{},{vehicle_photos:t.data.uri})),q(!0),console.log("jkj",G),Object(Y.b)({email:G.email,first_name:G.first_name,middle_name:G.middle_name,last_name:G.last_name,password:"password",phone_number:G.phone_number,address:{city:G.city,kebele:G.kebele,sub_city:G.sub_city},bank:G.bank,bank_account:G.bank_account,birth_date:G.birth_date,fleet_body_color:G.fleet_body_color,fleet_brand:G.fleet_brand,fleet_model:G.fleet_model,fleet_plate_number:G.fleet_plate_number,fleet_type:G.fleet_type,gender:G.gender,license_number:G.license_number,profile_picture:e.data.uri[0],truck_available:G.truck_available,vehicle_photos:t.data.uri,wallet_amount:12},(function(e,t){if(q(!1),t.validation_errors){var n={};t.validation_errors.map((function(e){n[e.error_path]=e.errors[0].error_message})),ue(n)}t._id&&T(te.a.ADMIN.DRIVER.ROUTE,{replace:!0})})))}))}}))};return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(o.a,{sx:{width:"100%"},spacing:4,children:[Object(S.jsx)(d.a,{alternativeLabel:!0,activeStep:E,connector:Object(S.jsx)(re,{}),children:ie.map((function(e){return Object(S.jsx)(s.a,{children:Object(S.jsx)(u.a,{StepIconComponent:ce,children:e})},e)}))}),Object(S.jsxs)(_.a,{children:[Object(S.jsx)("h3",{children:"Create Driver"}),Object(S.jsx)(O.a,{sx:{marginTop:3},children:Object(S.jsxs)(_.a,{sx:{margin:4},children:[0===E&&Object(S.jsx)(M,{errors:B,errorData:se,setErrors:A,handleChange:be,formData:G,handleProfilePicture:function(e){var t=new FileReader;t.onload=function(t){le(Object(r.a)(Object(r.a)({},G),{},{profile_picture:t.target.result,profile_picture_data:e.target.files[0]}))},t.readAsDataURL(e.target.files[0])}}),1===E&&Object(S.jsx)(K,{errors:B,errorData:se,fleet_types:i,fleet_brands:v,fleet_models:j,setErrors:A,handleChange:be,formData:G,handleVehiclePictures:function(e,t){var n=new FileReader;n.onload=function(n){le(Object(r.a)(Object(r.a)({},G),{},{vehicle_photos:G.vehicle_photos.map((function(e){return t===e.idx?Object(r.a)(Object(r.a)({},e),{},{value:n.target.result}):e})),vehicle_photos_data:G.vehicle_photos_data.map((function(n){return t===n.idx?Object(r.a)(Object(r.a)({},n),{},{value:e.target.files[0]}):n}))}))},n.readAsDataURL(e.target.files[0])},addVehiclePicture:function(){var e=ae();le(Object(r.a)(Object(r.a)({},G),{},{vehicle_photos:G.vehicle_photos.concat({idx:e,value:"https://thispersondoesnotexist.com/image"}),vehicle_photos_data:G.vehicle_photos_data.concat({idx:e,value:"https://thispersondoesnotexist.com/image"})}))},removeVehiclePicture:function(e){le(Object(r.a)(Object(r.a)({},G),{},{vehicle_photos:G.vehicle_photos.filter((function(t){return t.idx!==e})),vehicle_photos_data:G.vehicle_photos_data.filter((function(t){return t.idx!==e}))}))}}),2===E&&Object(S.jsx)(H,{errors:B,errorData:se,setErrors:A,handleChange:be,formData:G})]})}),Object(S.jsx)(O.a,{style:{marginTop:40},children:Object(S.jsx)(g.a,{children:Object(S.jsxs)(y.a,{sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},style:{display:"flex",justifyContent:"space-evenly"},children:[Object(S.jsx)(k.a,{sx:{margin:1},variant:"contained",color:"primary",type:"submit",onClick:function(){return R(Math.max(0,E-1))},disabled:0===E,children:"Previous"}),Object(S.jsx)(k.a,{sx:{margin:1},variant:"contained",color:"secondary",type:"button",onClick:function(){return function(){var e=[],t=Object.keys(G),n=Object.values(G);Object.keys(w[E]).forEach((function(a,r){var l=t.findIndex((function(e){return e===a}));(l<0&&Object.values(w[E])[r]||Object.values(w[E])[r]&&""===n[l])&&e.push({name:a,value:"".concat(a," is required")})})),0===e.length&&(R(Math.min(2,E+1)),2===E&&he()),A(e)}()},disabled:B.length>0||N,children:N?Object(S.jsx)(C.a,{}):2===E?"Create Driver":"Next"})]})})})]})]})})}}}]);
//# sourceMappingURL=57.dcb2d5a4.chunk.js.map