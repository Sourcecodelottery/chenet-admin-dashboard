(this["webpackJsonpadmin-template"]=this["webpackJsonpadmin-template"]||[]).push([[21],{541:function(e,t,n){"use strict";var c=n(557),a=n(9),r=n(516),o=n(1),i=Object(a.a)(r.a)((function(e){var t=e.theme;return"\n        padding: ".concat(t.spacing(4,0),";\n")}));t.a=function(e){var t=e.children;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(i,{children:Object(o.jsx)(c.a,{maxWidth:"lg",children:t})})})}},542:function(e,t,n){"use strict";var c=n(516),a=n(557),r=n(137),o=n(535),i=n(9),s=n(1),l=Object(i.a)(c.a)((function(e){var t=e.theme;return"\n        border-radius: 0;\n        margin: ".concat(t.spacing(3)," 0;\n")}));t.a=function(){return Object(s.jsx)(l,{children:Object(s.jsx)(a.a,{maxWidth:"lg",children:Object(s.jsxs)(c.a,{py:3,display:{xs:"block",md:"flex"},alignItems:"center",textAlign:{xs:"center",md:"left"},justifyContent:"space-between",children:[Object(s.jsx)(c.a,{children:Object(s.jsx)(r.a,{variant:"subtitle1",children:"\xa9 2021 - Tokyo Free White React Admin Dashboard"})}),Object(s.jsxs)(r.a,{sx:{pt:{xs:2,md:0}},variant:"subtitle1",children:["Crafted by ",Object(s.jsx)(o.a,{href:"https://bloomui.com",target:"_blank",rel:"noopener noreferrer",children:"BloomUI.com"})]})]})})})}},543:function(e,t,n){"use strict";var c=n(24);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n(25)),r=n(1),o=(0,a.default)((0,r.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"AddTwoTone");t.default=o},547:function(e,t,n){"use strict";var c=n(24);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n(25)),r=n(1),o=(0,a.default)((0,r.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVertTwoTone");t.default=o},550:function(e,t,n){"use strict";var c=n(24);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n(25)),r=n(1),o=(0,a.default)((0,r.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");t.default=o},570:function(e,t,n){"use strict";var c;n.d(t,"a",(function(){return c})),function(e){e.ValidationErrors="ValidationErrors",e.ValidationError="ValidationError",e.ICategorySimple="ICategorySimple",e.IPriceSimple="IPriceSimple",e.IPriceDoc="IPriceDoc",e.IAccountSimple="IAccountSimple",e.IGroupDoc="IGroupDoc",e.IGroupSimple="IGroupSimple",e.INotificationDoc="INotificationDoc",e.INotificationSimple="INotificationSimple",e.INewsSimple="INewsSimple"}(c||(c={}))},605:function(e,t,n){"use strict";var c=n(6),a=n(196),r=n(9),o=n(1),i=["className","color","children"],s=Object(r.a)("span")((function(e){var t=e.theme;return"\n      background-color: ".concat(t.colors.alpha.black[5],";\n      padding: ").concat(t.spacing(.5,1),";\n      font-size: ").concat(t.typography.pxToRem(13),";\n      border-radius: ").concat(t.general.borderRadius,";\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      max-height: ").concat(t.spacing(3),";\n      \n      &.MuiLabel {\n        &-primary {\n          background-color: ").concat(t.colors.primary.lighter,";\n          color: ").concat(t.palette.primary.main,"\n        }\n        \n        &-secondary {\n          background-color: ").concat(t.colors.secondary.lighter,";\n          color: ").concat(t.palette.secondary.main,"\n        }\n        \n        &-success {\n          background-color: ").concat(t.colors.success.lighter,";\n          color: ").concat(t.palette.success.main,"\n        }\n        \n        &-warning {\n          background-color: ").concat(t.colors.warning.lighter,";\n          color: ").concat(t.palette.warning.main,"\n        }\n              \n        &-error {\n          background-color: ").concat(t.colors.error.lighter,";\n          color: ").concat(t.palette.error.main,"\n        }\n        \n        &-info {\n          background-color: ").concat(t.colors.info.lighter,";\n          color: ").concat(t.palette.info.main,"\n        }\n      }\n")}));t.a=function(e){e.className;var t=e.color,n=void 0===t?"secondary":t,r=e.children,l=Object(a.a)(e,i);return Object(o.jsx)(s,Object(c.a)(Object(c.a)({className:"MuiLabel-"+n},l),{},{children:r}))}},614:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return d}));var c=n(22),a=n.n(c),r=n(23),o=function(e){var t=e.content,n=e.targetingOptions;return{query:'mutation {\n    createNews(input:{content:{ title:"'.concat(t.title,'", description: "').concat(t.description,'"}, targetingOptions:{min_age: ').concat(n.min_age,",max_age: ").concat(n.max_age,", sex: [").concat(n.sex,'], location: "').concat(n.location,'",  isForAll: ').concat(n.isForAll,"}}) {\n      __typename\n      ... on INewsSimple{\n      _id content {title description } targetingOptions{min_age max_age sex location  isForAll } sender createdAt updatedAt   \n       }\n      ... on ValidationError {\n        error_path errors {\n          error_code error_message\n        }\n      }\n    }\n  }")}},i=function(e){var t=e._id;return{query:'mutation {\n    removeNewsByID(_id: "'.concat(t,'") {\n      __typename\n      ... on INewsSimple{\n      _id content {title description } targetingOptions{ min_age max_age sex location isForAll } sender createdAt updatedAt   \n       }\n      ... on ValidationError {\n        error_path errors {\n          error_code error_message\n        }\n      }\n    }\n  }')}},s=function(e){var t=e.content,n=e.targetingOptions,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return null};a.a.post(r.a.baseURL,o({content:t,targetingOptions:n})).then((function(e){console.log(e.data.data.createNews),c(null,e.data.data.createNews)})).catch((function(e){return console.log("Error",e)}))},l=function(e){var t=e._id,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return null};a.a.post(r.a.baseURL,i({_id:t})).then((function(e){n(null,e.data.data.removeNewsByID)})).catch((function(e){return console.log("Error",e)}))},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e,t,n){return null};a.a.post(r.a.baseURL,{query:"{\n    fetchNewsesDoc{\n             _id content {title description } targetingOptions{min_age max_age sex location  isForAll } sender{first_name last_name _id phone_number email role is_active}  createdAt updatedAt   \n    }\n  }"}).then((function(t){console.log(t.data.data),e(null,t.data.data.fetchNewsesDoc,t)})).catch((function(e){return console.log("Error",e)}))}},706:function(e,t,n){"use strict";var c=n(3),a=n(2),r=n(0),o=(n(7),n(193)),i=n(9),s=n(12),l=n(137),d=n(105),j=n(136);function u(e){return Object(d.a)("MuiDialogContentText",e)}Object(j.a)("MuiDialogContentText",["root"]);var b=n(1),h=["children"],O=Object(i.a)(l.a,{shouldForwardProp:function(e){return Object(i.b)(e)||"classes"===e},name:"MuiDialogContentText",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),g=r.forwardRef((function(e,t){var n=Object(s.a)({props:e,name:"MuiDialogContentText"}),r=Object(c.a)(n,h),i=function(e){var t=e.classes,n=Object(o.a)({root:["root"]},u,t);return Object(a.a)({},t,n)}(r);return Object(b.jsx)(O,Object(a.a)({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:r},n,{classes:i}))}));t.a=g},707:function(e,t,n){"use strict";var c=n(3),a=n(2),r=n(0),o=(n(7),n(10)),i=n(193),s=n(9),l=n(12),d=n(105),j=n(136);function u(e){return Object(d.a)("MuiDialogActions",e)}Object(j.a)("MuiDialogActions",["root","spacing"]);var b=n(1),h=["className","disableSpacing"],O=Object(s.a)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disableSpacing&&t.spacing]}})((function(e){var t=e.ownerState;return Object(a.a)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),g=r.forwardRef((function(e,t){var n=Object(l.a)({props:e,name:"MuiDialogActions"}),r=n.className,s=n.disableSpacing,d=void 0!==s&&s,j=Object(c.a)(n,h),g=Object(a.a)({},n,{disableSpacing:d}),x=function(e){var t=e.classes,n={root:["root",!e.disableSpacing&&"spacing"]};return Object(i.a)(n,u,t)}(g);return Object(b.jsx)(O,Object(a.a)({className:Object(o.a)(x.root,r),ownerState:g,ref:t},j))}));t.a=g},787:function(e,t,n){"use strict";n.r(t);var c=n(195),a=n(577),r=n(137),o=n(517),i=n(543),s=n.n(i),l=n(21),d=n(20),j=n(1);var u=function(){var e=Object(l.h)();return Object(j.jsxs)(a.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:[Object(j.jsx)(a.a,{item:!0,children:Object(j.jsx)(r.a,{variant:"h3",component:"h3",gutterBottom:!0,children:"News"})}),Object(j.jsx)(a.a,{item:!0,children:Object(j.jsx)(o.a,{sx:{mt:{xs:2,md:0}},variant:"contained",startIcon:Object(j.jsx)(s.a,{fontSize:"small"}),onClick:function(){e(d.a.ADMIN.CREATE_NEWS.ROUTE,{replace:!1})},children:"Create News"})})]})},b=n(541),h=n(557),O=n(542),g=n(568),x=n(27),p=n(17),f=n(0),m=n.n(f),v=n(26),y=n(523),_=n(531),S=n(534),w=n(706),I=n(805),k=n(806),N=n(807),C=n(808),A=n(809),D=n(810),W=n(516),M=n(707),E=n(499),R=n(554),z=n(504),F=n(532),P=n(793),T=n(548),B=n.n(T),V=n(550),L=n.n(V),G=n(9),U=n(547),q=n.n(U),J=Object(G.a)(o.a)((function(e){var t=e.theme;return"\n     background: ".concat(t.colors.error.main,";\n     color: ").concat(t.palette.error.contrastText,";\n\n     &:hover {\n        background: ").concat(t.colors.error.dark,";\n     }\n    ")}));var H=function(){var e=Object(f.useState)(!1),t=Object(p.a)(e,2),n=(t[0],t[1]),c=Object(f.useRef)(null);return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(W.a,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[Object(j.jsxs)(W.a,{display:"flex",alignItems:"center",children:[Object(j.jsx)(r.a,{variant:"h5",color:"text.secondary",children:"Bulk actions:"}),Object(j.jsx)(J,{onClick:function(){console.log("delet all",te)},sx:{ml:1},startIcon:Object(j.jsx)(B.a,{}),variant:"contained",children:"Deactivate"})]}),Object(j.jsx)(F.a,{color:"primary",onClick:function(){n(!0)},ref:c,sx:{ml:2,p:1},children:Object(j.jsx)(q.a,{})})]})})},K=n(106),Q=n(163),X=n(566),Y=n(570),Z=n(492),$=n(605),ee=n(614),te=[],ne=Object(K.b)((function(e){return{newses:Object(Q.c)(e)}}),(function(e){return{SetNewses:function(t){return e(Q.a.SetNewses(t))}}}))((function(e){Object(l.h)();Object(f.useEffect)((function(){console.log("fetching newses"),Object(ee.a)((function(t,n){e.SetNewses(n),a(n)}))}),[]);var t=Object(f.useState)([]),n=Object(p.a)(t,2),c=n[0],a=n[1],i=Object(f.useState)(null),s=Object(p.a)(i,2),d=(s[0],s[1],Object(f.useState)([])),u=Object(p.a)(d,2),b=u[0],h=u[1],O=b.length>0,T=Object(f.useState)(0),V=Object(p.a)(T,2),G=V[0],U=V[1],q=Object(f.useState)(5),J=Object(p.a)(q,2),K=J[0],Q=J[1],ne=Object(f.useState)(null),ce=Object(p.a)(ne,2),ae=ce[0],re=ce[1],oe=Object(f.useState)(null),ie=Object(p.a)(oe,2),se=ie[0],le=ie[1],de=Object(f.useState)(!1),je=Object(p.a)(de,2),ue=je[0],be=je[1],he=m.a.useState(!1),Oe=Object(p.a)(he,2),ge=Oe[0],xe=Oe[1],pe=m.a.useState(!0),fe=Object(p.a)(pe,2),me=fe[0],ve=(fe[1],m.a.useState("sm")),ye=Object(p.a)(ve,2),_e=ye[0],Se=(ye[1],b.length>0&&b.length<c.length),we=b.length===c.length,Ie=Object(v.a)(),ke=function(e,t,n){return e.slice(t*n,t*n+n)}(c,G,K);Object(Z.a)(Ie.breakpoints.down("md"));Object(f.useEffect)((function(){}),[le,se]);var Ne=Object(X.a)(),Ce=(Ne.register,Ne.handleSubmit,Ne.formState.errors,function(){be(!1)}),Ae=function(){xe(!1)};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(m.a.Fragment,{children:Object(j.jsxs)(y.a,{fullWidth:me,maxWidth:_e,open:ge,"aria-labelledby":"responsive-dialog-title",onClose:Ae,children:[Object(j.jsx)(_.a,{sx:{fontWeight:"bold",fontSize:"h2.fontSize"},children:null!==se?se.content.title:""}),Object(j.jsxs)(S.a,{children:[Object(j.jsx)(w.a,{children:null!==se?se.content.description:""}),Object(j.jsx)(I.a,{children:Object(j.jsxs)(k.a,{children:[Object(j.jsx)(N.a,{children:Object(j.jsxs)(C.a,{children:[Object(j.jsx)(A.a,{align:"center",children:"Min Age"}),Object(j.jsx)(A.a,{align:"center",children:"Max Age"}),Object(j.jsx)(A.a,{align:"center",children:"Location"}),Object(j.jsx)(A.a,{align:"center",children:"Gender"}),Object(j.jsx)(A.a,{align:"center",children:"For All"})]})}),Object(j.jsx)(D.a,{children:Object(j.jsxs)(C.a,{hover:!0,children:[Object(j.jsx)(A.a,{align:"center",children:Object(j.jsx)(r.a,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:null!==se?se.targetingOptions.max_age:""})}),Object(j.jsx)(A.a,{align:"center",children:Object(j.jsx)(r.a,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:null!==se?se.targetingOptions.min_age:""})}),Object(j.jsx)(A.a,{align:"center",children:Object(j.jsx)(r.a,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:null!==se?se.targetingOptions.location:""})}),Object(j.jsx)(A.a,{align:"center",children:Object(j.jsx)(r.a,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:null!==se?se.targetingOptions.sex:""})}),Object(j.jsx)(A.a,{align:"center",children:Object(j.jsx)(r.a,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:null!==se?se.targetingOptions.isForAll?"true":"false":""})})]},null!==se?se._id:"")})]})}),Object(j.jsx)(W.a,{sx:{marginTop:2},children:Object(j.jsx)($.a,{color:"primary",children:Object(j.jsx)(W.a,{sx:{fontWeight:"bold"},component:"span",display:"inline",children:se?"sender:   ".concat(se.sender.first_name," ").concat(se.sender.last_name):""})})})]}),Object(j.jsx)(M.a,{children:Object(j.jsx)(o.a,{onClick:Ae,children:"Close"})})]})}),Object(j.jsxs)(y.a,{open:ue,onClose:Ce,children:[Object(j.jsx)(_.a,{children:Object(j.jsx)(W.a,{sx:{fontWeight:"bold"},component:"span",display:"inline",children:"Alert"})}),Object(j.jsx)(S.a,{children:Object(j.jsxs)(w.a,{id:"alert-dialog-description",children:["Are you sure you want to delete ",Object(j.jsxs)($.a,{color:"primary",children:[" ",Object(j.jsx)(W.a,{sx:{fontWeight:"bold"},component:"span",display:"inline",children:ae?"".concat(ae.content.title):""})]})," News?"]})}),Object(j.jsxs)(M.a,{children:[Object(j.jsx)(o.a,{onClick:Ce,children:"Cancel"}),Object(j.jsx)(o.a,{onClick:function(){Object(ee.c)({_id:ae._id},(function(t,n){switch(n.__typename){case Y.a.ValidationError:console.log("data base error",n);break;case Y.a.INewsSimple:Object(ee.a)((function(t,n){e.SetNewses(n),a(n)}))}})),Ce()},color:"error",autoFocus:!0,children:"Delete"})]})]}),Object(j.jsxs)(g.a,{children:[O&&Object(j.jsx)(W.a,{flex:1,p:2,children:Object(j.jsx)(H,{})}),Object(j.jsx)(E.a,{}),Object(j.jsx)(I.a,{children:Object(j.jsxs)(k.a,{children:[Object(j.jsx)(N.a,{children:Object(j.jsxs)(C.a,{children:[Object(j.jsx)(A.a,{padding:"checkbox",children:Object(j.jsx)(R.a,{color:"primary",checked:we,indeterminate:Se,onChange:function(e){h(e.target.checked?c.map((function(e){return e._id})):[]),te.push(b)}})}),Object(j.jsx)(A.a,{children:"Title"}),Object(j.jsx)(A.a,{children:"Sender"}),Object(j.jsx)(A.a,{align:"center",children:"Detail"}),Object(j.jsx)(A.a,{align:"center",children:"Actions"})]})}),Object(j.jsx)(D.a,{children:ke.map((function(e){var t=b.includes(e._id);return Object(j.jsxs)(C.a,{hover:!0,selected:t,children:[Object(j.jsx)(A.a,{padding:"checkbox",children:Object(j.jsx)(R.a,{color:"primary",checked:t,onChange:function(t){return n=e._id,void(b.includes(n)?h((function(e){return e.filter((function(e){return e!==n}))})):h((function(e){return[].concat(Object(x.a)(e),[n])})));var n},value:t})}),Object(j.jsx)(A.a,{children:Object(j.jsx)(r.a,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:e.content.title})}),Object(j.jsx)(A.a,{children:Object(j.jsx)(r.a,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:"".concat(e.sender.first_name," ").concat(e.sender.last_name)})}),Object(j.jsx)(A.a,{align:"center",children:Object(j.jsx)(z.a,{title:"Show Detail",arrow:!0,children:Object(j.jsx)(F.a,{onClick:function(){return function(e){le(e),xe(!0),console.log(e)}(e)},size:"medium",children:Object(j.jsx)(L.a,{fontSize:"medium"})})})}),Object(j.jsx)(A.a,{align:"center",children:Object(j.jsx)(z.a,{title:"Delete News",arrow:!0,children:Object(j.jsx)(F.a,{onClick:function(){!function(e){re(e),be(!0)}(e)},sx:{"&:hover":{background:Ie.colors.error.lighter},color:Ie.palette.error.main},color:"inherit",size:"small",children:Object(j.jsx)(B.a,{fontSize:"small"})})})})]},e._id)}))})]})}),Object(j.jsx)(W.a,{p:2,children:Object(j.jsx)(P.a,{component:"div",count:c.length,onPageChange:function(e,t){U(t)},onRowsPerPageChange:function(e){Q(parseInt(e.target.value))},page:G,rowsPerPage:K,rowsPerPageOptions:[5,10,25,30]})})]})]})}));var ce=function(){return Object(j.jsx)(g.a,{children:Object(j.jsx)(ne,{})})},ae=n(146);t.default=Object(K.b)((function(e){return Object(ae.b)(e)}))((function(e){var t=Object(l.h)();return Object(f.useEffect)((function(){e.isAuthenticated||t("/login",{replace:!0})}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(c.a,{children:Object(j.jsx)("title",{children:"Ethio Lottery"})}),Object(j.jsx)(b.a,{children:Object(j.jsx)(u,{})}),Object(j.jsx)(h.a,{maxWidth:"lg",children:Object(j.jsx)(a.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:Object(j.jsx)(a.a,{item:!0,xs:12,children:Object(j.jsx)(ce,{})})})}),Object(j.jsx)(O.a,{})]})}))}}]);
//# sourceMappingURL=21.2736c867.chunk.js.map